

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fgbuster.cosmology &mdash; FGBuster 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fgbuster.component_model" href="fgbuster.component_model.html" />
    <link rel="prev" title="fgbuster.separation_recipes" href="fgbuster.separation_recipes.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> FGBuster
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fgbuster.separation_recipes.html">fgbuster.separation_recipes</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">fgbuster.cosmology</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgbuster.component_model.html">fgbuster.component_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgbuster.mixingmatrix.html">fgbuster.mixingmatrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="fgbuster.algebra.html">fgbuster.algebra</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FGBuster</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api.html">API</a> &raquo;</li>
        
      <li>fgbuster.cosmology</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/fgbuster.cosmology.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-fgbuster.cosmology">
<span id="fgbuster-cosmology"></span><h1>fgbuster.cosmology<a class="headerlink" href="#module-fgbuster.cosmology" title="Permalink to this headline">¶</a></h1>
<p>Forecasting toolbox</p>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#fgbuster.cosmology.xForecast" title="fgbuster.cosmology.xForecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xForecast</span></code></a>(components, instrument, d_fgs, …)</p></td>
<td><p>Run XForcast (Stompor et al, 2016) using the provided instrumental specifications and input foregrounds maps.</p></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="fgbuster.cosmology.xForecast">
<code class="sig-prename descclassname">fgbuster.cosmology.</code><code class="sig-name descname">xForecast</code><span class="sig-paren">(</span><em class="sig-param">components</em>, <em class="sig-param">instrument</em>, <em class="sig-param">d_fgs</em>, <em class="sig-param">lmin</em>, <em class="sig-param">lmax</em>, <em class="sig-param">Alens=1.0</em>, <em class="sig-param">r=0.001</em>, <em class="sig-param">make_figure=False</em>, <em class="sig-param">**minimize_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fgbuster/cosmology.html#xForecast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fgbuster.cosmology.xForecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Run XForcast (Stompor et al, 2016) using the provided instrumental
specifications and input foregrounds maps. If the foreground maps match the
components provided (constant spectral indices are assumed), it reduces to
CMB4cast (Errard et al, 2011). Currently, only polarization is considered
fot component separation and only the BB power spectrum for cosmological
analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>components</strong> (<em>list</em>) – <cite>Components</cite> of the mixing matrix</p></li>
<li><p><strong>instrument</strong> (<em>PySM.Instrument</em>) – <p>Instrument object used to define the mixing matrix and the
frequency-dependent noise weight.
It is required to have:</p>
<blockquote>
<div><ul>
<li><p>frequencies</p></li>
</ul>
</div></blockquote>
<p>however, also the following are taken into account, if provided</p>
<blockquote>
<div><ul>
<li><p>sens_P (define the frequency inverse noise)</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>d_fgs</strong> (<em>ndarray</em>) – The foreground maps. No CMB. Shape <cite>(n_freq, n_stokes, n_pix)</cite>.
If some pixels have to be masked, set them to zero.
Since (cross-)spectra of the maps will be computed, you might want to
apodize your mask (use the same apodization for all the frequency).</p></li>
<li><p><strong>lmin</strong> (<em>int</em>) – minimum multipole entering the likelihood computation</p></li>
<li><p><strong>lmax</strong> (<em>int</em>) – maximum multipole entering the likelihood computation</p></li>
<li><p><strong>Alens</strong> (<em>float</em>) – Amplitude of the lensing B-modes entering the likelihood on r</p></li>
<li><p><strong>r</strong> (<em>float</em>) – tensor-to-scalar ratio assumed in the likelihood on r</p></li>
<li><p><strong>minimize_kwargs</strong> (<em>dict</em>) – Keyword arguments to be passed to <cite>scipy.optimize.minimize</cite> during
the fitting of the spectral parameters.
A good choice for most cases is
<cite>minimize_kwargs = {‘tol’: 1, options: {‘disp’: True}}</cite>. <cite>tol</cite> depends
on both the solver and your signal to noise: it should ensure that the
difference between the best fit -logL and and the minimum is well less
then 1, without exagereting (a difference of 1e-4 is useless).
<cite>disp</cite> also triggers a verbose callback that monitors the convergence.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>xFres</strong> – xForecast result. It includes</p>
<ul class="simple">
<li><p>the fitted spectral parameters</p></li>
<li><p>noise-averaged post-component separation CMB power spectrum</p>
<ul>
<li><p>noise spectrum</p></li>
<li><p>statistical residuals spectrum</p></li>
<li><p>systematic residuals spectrum</p></li>
</ul>
</li>
<li><p>noise-averaged cosmological likelihood</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fgbuster.component_model.html" class="btn btn-neutral float-right" title="fgbuster.component_model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="fgbuster.separation_recipes.html" class="btn btn-neutral float-left" title="fgbuster.separation_recipes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Davide Poletti, Josquin Errard and the FGBuster developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>